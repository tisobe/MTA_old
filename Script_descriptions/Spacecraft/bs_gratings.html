<!DOCTYPE html>

<html>

<head>
<link rel="stylesheet" type="text/css" href="https://cxc.cfa.harvard.edu/mta_days/mta_script_list/house_keeping/style_sheet.css" />
<style>
    th{padding:5px;text-align:left}
</style>

<title>Gratings</title>

<script  src="https://cxc.cfa.harvard.edu/mta_days/mta_script_list/house_keeping/j_module.js"> </script>

</head>

<body>

<!-- ######################## -->
<!-- begining of the document -->
<!-- ######################## -->


<h2>Gratings</h2>

<b><u>Sep 29, 2015</u></b>


<h3>Description</h3>
<p>
<!-- here you need to put what is the purpose of this script. -->
Update MTA gratings related web page: Angles, Zeroth order, Focus, and E/dE.
</p>

<h3>Location of Scripts and Their Names</h3>

<p>
<!-- physical location of the files -->
<table border=0>
<tr><th>Location:</th><td>/data/mta4/Gratings/Script</td></tr>
<tr><th>&#160;   </th><td>/data/mta_www/mta_grat</td></tr>
</table>

</p>
<p>
<!-- if you uploaded to gibhub, please put the address of github  -->
<b>GitHub Address</b>: ?????
</p>


<table border=0>
<tr><th>Script Name</th>                        <th>Last Updated</th></tr>

<tr><td><b>/data/mta4/Gratings/Script</b></td>  <td>&#160;      </td></tr>

<tr><td>run_grating_wrap_script</td>            <td>May 08, 2015</td></tr>
<tr><td>run_grating_main_script</td>            <td>May 08, 2015</td></tr>
<tr><td>run_grating.py</td>                     <td>Nov 19, 2015</td></tr>

<tr><td><b>/data/mta_www/mta_grat</b></td>      <td>&#160;      </td></tr>

<tr><td>create_g_list.py</td>                   <td>Jun 17, 2015</td></tr>
<tr><td>update</td>                             <td>May 07, 2015</td></tr>
<tr><td>obs2html.pro</td>                       <td>Sep 22, 2000</td></tr>
<tr><td>mkcommand.pl</td>                       <td>Jan 07, 2009</td></tr>
<tr><td>getdata</td>                            <td>Aug 02, 2006</td></tr>

<tr><td><b>./Angles/</b></td>                   <td>&#160;      </td></tr>
<tr><td>filter</td>                             <td>Dec 29, 2000</td></tr>
<tr><td>run.pro</td>                            <td>Sep 06, 2000</td></tr>
<tr><td>angles.pro</td>                         <td>Sep 06, 2012</td></tr>
<tr><td>sdom.pro</td>                           <td>Mar 14, 2001</td></tr>

<tr><td><b>./Zero/</b></td>                     <td>&#160;      </td></tr>
<tr><td>filter</td>                             <td>Dec 29, 2000</td></tr>
<tr><td>run.pro</td>                            <td>Sep 06, 2000</td></tr>
<tr><td>off_plot.pro</td>                       <td>Oct 18  2000</td></tr>
<tr><td>offset.pro</td>                         <td>Oct 18  2000</td></tr>
<tr><td>sdom.pro</td>                           <td>Mar 14  2001</td></tr>
<tr><td>zo_loc.pro</td>                         <td>Oct 05  2011</td></tr>

<tr><td><b>./Focus/</b></td>                    <td>&#160;      </td></tr>
<tr><td>foc_wrap_script</td>                    <td>Nov 18, 2015</td></tr>
<tr><td>foc_main_script</td>                    <td>Nov 18, 2015</td></tr>
<tr><td>filters</td>                            <td>Nov 18, 2015</td></tr>
<tr><td>run.pro</td>                            <td>Nov 18, 2015</td></tr>
<tr><td>foc_mod.pro</td>                        <td>Nov 18, 2015</td></tr>

<tr><td><b>./EdE/</b></td>                      <td>&#160;      </td></tr>
<tr><td>getdat</td>                             <td>Apr 28, 2002</td></tr>
<tr><td>run.pro</td>                            <td>May 07, 2015</td></tr>
<tr><td>filt_plot.pro</td>                      <td>May 08, 2015</td></tr>
<tr><td>ede.pro</td>                            <td>May 03, 2002</td></tr>
</table>

<p>
<!--  here you put a short description of scripts or README file location.-->
Please read 
</li>
<ul>
    <li>/data/mta4/Gratings/Script/README </li>
    <li>/data/mta_www/mta_grat/README </li>
    <li>/data/mta_www/mta_grat/Focus/README </li>
</ul>
<p>
files for more details.
</p>

<table border = 0>
<tr><th>Sep 28, 2014</th><td>Initially logged</td></tr>
<tr><th>Sep 29, 2014</th><td>Description updated</td></tr>
<tr><th>Nov 19, 2014</th><td>Focus related scripts update</td></tr>
<tr><th>Nov 19, 2014</th><td>updated run_grating.py to work a few times a month</td></tr>
</table>



<h3>Data Needed</h3>
<!--- a list of input data --->

<ul>
<li>/data/mta_www/mta_grat/&lt;Mmm&gt;&lt;yy&gt;/&lt;&gt;</li>
<li>obslist (currently manually crated)</li>
</ul>

<h3>Environment Setting</h3>
<!-- describe the environment setting -->
<ul>
<li>
None
</li>
</ul>

<h3>Output Locations and File Names</h3>
<!-- describe the output location and the file names -->
<ul>
<li>
/data/mta_www/mta_grat/
    <ul>
        <li>gratdata.db</li>
        <li>index.html</li>
    </ul>
</li>
<li>
/data/mta_www/mta_grat/Angles
    <ul>
        <li>hetg_angles.txt</li>
        <li>letg_angles.txt</li>
        <li>heg_all_angle.gif</li>
        <li>meg_all_angle.gif</li>
        <li>leg_all_angle.gif</li>
    </ul>
</li>
<li>
/data/mta_www/mta_grat/Zero/
    <ul>
        <li>zo_acis_letg.txt</li>
        <li>zo_acis_hetg.txt</li>
        <li>zo_hrc_letg.txt</li>
        <li>obslist</li>
        <li>zo_acis_hetg_xsky.gif</li>
        <li>zo_acis_hetg_ysky.gif</li>
        <li>zo_acis_hetg_xchip.gif</li>
        <li>zo_acis_hetg_ychip.gif</li>
        <li>zo_acis_letg_xsky.gif</li>
        <li>zo_acis_letg_ysky.gif</li>
        <li>zo_acis_letg_xchip.gif</li>
        <li>zo_acis_letg_ychip.gif</li>
        <li>zo_hrc_letg_xsky.gif</li>
        <li>zo_hrc_letg_ysky.gif</li>
        <li>zo_hrc_letg_xchip.gif</li>
        <li>zo_hrc_letg_ychip.gif</li>
    </ul>
</li>
<li>
/data/mta_www/mta_grat/Focus/
    <ul>
        <li>foc_acis_letg.txt</li>
        <li>foc_hrc_letg.txt</li>
        <li>foc_hrc_letg.txt</li>
        <li>foc_acis_letg.gif</li>
        <li>foc_acis_hetg.gif</li>
        <li>foc_hrc_letg.gif</li>
        <li> index.html </li>
    </ul>
</li>
<li>
/data/mta_www/mta_grat/EdE/
    <ul>
        <li>hegp1_all.txt</li>
        <li>hegm1_all.txt</li>
        <li>megp1_all.txt</li>
        <li>megm1_all.txt</li>
        <li>legp1_all.txt</li>
        <li>legm1_all.txt</li>
        <li>HEG_all.rdb</li>
        <li>MEG_all.rdb</li>
        <li>LEG_all.rdb</li>
        <li>heg_all.gif</li>
        <li>meg_all.gif</li>
        <li>leg_all.gif</li>
        <li>HEG_allmap</li>
        <li>MEG_allmap</li>
        <li>LEG_allmap</li>
    </ul>
</li>
</ul>


<h3>How to Run the Script(s)</h3>
<!-- describe how to run all scripts. start from environmental setting -->
<ol> 
<li> go to: cd /data/mta4/Gratings/ </li>

<li>source /proj/sot/ska/bin/ska_envs.csh </li>

<li> /data/mta4/Gratings/Script/run_grating.py  </li>

<li> go to: cd /data/mta_www/mta_grat/ </li>

<li> run:    create_g_list.py    (to create obs2html.lst) </li>

<li> create: obslist (currently manually made) </li>

<li> copy obslist into Angles/obslist, Zero/obslist, Focus/obslist, EdE/obslist </li>

<li>run:   update </li>

<li> go to: cd /data/mta_www/mta_grat/ </li>

<li> run:   filters</li>

<li> set: setenv IDL_PATH "+/usr/local/rsi/user_contrib/astron_Oct09/pro:+/home/mta/IDL:/home/nadams/pros:+/data/swolk/idl_libs:/home/mta/IDL/tara:widget_tools:utilities:event_browser"</li>

<li> run: idel run </li>
</ol>


<h3>How to Run Test(s)</h3>
<!-- describe how to run test. start from environmental setting -->
<ol> 
<li>
No test is available for this set of scripts.
</li>
</ol>

<div style='padding-left:20px'>
<h4>Expected result from the test</h4>
<!-- describe what we should see when we run the test -->
<p>
test results -- test results -- test results

</p>




</div>

<h3>Cron Job</h3>
<table border= 0>
<tr><th>CPU: </th><td>r2d2-v</td></tr>
<tr><th>User: </th><td>mta</td></tr>
</table>
<ul>
<li>32 2 3,10,20 * * cd /data/mta4/Gratings/;   /data/mta4/Gratings/Script/run_grating_wrap_script >> $HOME/Logs/run_grating_ti.cron </li>
<li>30 3 3,10,20 * * cd /data/mta_www/mta_grat; /data/mta_www/mta_grat/create_g_list.py; /usr/local/bin/idl /data/mta_www/mta_grat/update.pro >> $HOME/Logs/grating_html.cron </li>
<li>50 3 3,10,20 * * cd /data/mta_www/mta_grat/Focus; /data/mta_www/mta_grat/Focus/foc_wrap_script>> $HOME/Logs/grating_focus.cron  </li>

</ul>


<h3>Web Addreess</h3>
<ul>
<li>
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_grat/index.html'>
https://cxc.cfa.harvard.edu/mta_days/mta_grat/index.html
</a>
</li>
<li>
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_grat/Angles/index.html'>
https://cxc.cfa.harvard.edu/mta_days/mta_grat/Angles/index.html
</a>
</li>
<li>
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_grat/Zero/index.html'>
https://cxc.cfa.harvard.edu/mta_days/mta_grat/Zero/index.html
</a>
</li>
<li>
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_grat/Focus/index.html'>
https://cxc.cfa.harvard.edu/mta_days/mta_grat/Focus/index.html
</a>
</li>
<li>
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_grat/EdE/index.html'>
https://cxc.cfa.harvard.edu/mta_days/mta_grat/EdE/index.html
</a>
</li>
</ul>


<h3>Note</h3>

<p>
<!-- describe any other concern / instructions -->
None
</p>

<h3>Future Plan/Update Schedule</h3>
<p>
<!-- please describe update plan etc yere -->
None
</p>

<!-- the end of the document -->

<div  style='padding-top:10px'>
</div>
<hr />
<div  style='padding-top:10px'>
</div>

<a href='https://cxc.cfa.harvard.edu/mta_days/mta_script_list/mta_script_list.html'>
Back to Top Page
</a>


</body>
</html>
