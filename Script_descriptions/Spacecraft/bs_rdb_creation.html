<!DOCTYPE html>

<html>

<head>
<link rel="stylesheet" type="text/css" href="https://cxc.cfa.harvard.edu/mta_days/mta_script_list/house_keeping/style_sheet.css" />
<style>
    th{padding:5px;text-align:left}
</style>

<title>Dataseeker RDB Updates</title>

<script  src="https://cxc.cfa.harvard.edu/mta_days/mta_script_list/house_keeping/j_module.js"> </script>

</head>

<body>

<!-- ######################## -->
<!-- begining of the document -->
<!-- ######################## -->


<h2>Dataseeker RDB Updates</h2>


<h3>Description</h3>
<p>
<!-- here you need to put what is the purpose of this script. -->
Crate trace log files to update Dataseeker rdb files in /data/mta/DataSeeker/data/repository/.
The trace log files created are also used by Dumps_mon to check spacecraft configulation.
</p>
<p>
The first half of the processes overlaps with
<a href='https://cxc.cfa.harvard.edu/mta_days/mta_script_list/Realtime/bs_primary_filters.html'>
Primary Filtering Processes</a>.
</p>

<h3>Location of Scripts and Their Names</h3>

<p>
<!-- physical location of the files -->
<table border=0>
<tr> <th>Location:</th>     <td>/data/mta/Script/Dumps/Scripts/</td></tr>

</table>
<p>
<!-- if you uploaded to gibhub, please put the address of github  -->
<b>GitHub Address</b>: https://github.com/tisobe/Dataseeker_RDB.git
</p>


<table border=0>
<tr><th>Script Name</th>            <th>Last Updated</th></tr>
<tr><th>filters_wrap_script</th>    <td>Jun 10, 2015</td></tr>
<tr><th>filters_main_script</th>    <td>Jun 10, 2015</td></tr>
<tr><th>filters_wrap_script2</th>   <td>Jun 10, 2015</td></tr>
<tr><th>filters_main_script2</th>   <td>Jun 10, 2015</td></tr>
<tr><th>run_filter_scripts.py</th>  <td>Oct 02, 2015</td></tr>
<tr><th>otg_proc.pl</th>            <td>Jun 11, 2015</td></tr>
<tr><th>cleano.pl</th>              <td>Mar 16, 2015</td></tr>
<tr><th>gratstat.pl</th>            <td>Mar 16, 2015</td></tr>
<tr><td>/data/mta/www/mta_sim/Scripts/</td><td>&#160;</td></tr>
<tr><th>getdata</th>                <td>Mar 12, 2015</td></tr>

<tr><th>&#160;</th>                 <td>&#160;</td></tr>

<tr><th>update_rdb.py</th>          <td>Nov 10, 2015</td></tr>
<tr><th>pcadfilter.pl</th>          <td>Nov 10, 2015</td></tr>
<tr><th>ccdmfilter.pl</th>          <td>Nov 10, 2015</td></tr>
<tr><th>maverage.pl</th>            <td>Nov 10, 2015</td></tr>
<tr><th>filtersort2.pl</th>         <td>Oct 05, 2015</td></tr>
<tr><th>update_rdb_wrap_script</th> <td>Mar 28, 2016</td></tr>
<tr><th>update_rdb_main_script</th> <td>Mar 28, 2016</td></tr>

<tr><th>&#160;</th>                 <td>&#160;</td></tr>

<tr><th>deahk.pl</th>               <td>Oct 05, 2015</td></tr>
<tr><th>filters_dea</th>            <td>Oct 05, 2015</td></tr>
<tr><th>prep.perl</th>              <td>Oct 05, 2015</td></tr>
<tr><th>out2in.pl</th>              <td>Nov 10, 2015</td></tr>
<tr><th>average.pl</th>             <td>Oct 05, 2015</td></tr>
<tr><th>getnrt</th>                 <td>Oct 05, 2015</td></tr>

<tr><th>&#160;</th>                 <td>&#160;</td></tr>

<tr><th>move_ti_files.py</th>       <td>Nov 09, 2015</td></td>
</table>

<ul>
<li>
See <a href='https://cxc.cfa.harvard.edu/mta_days/mta_script_list/Takashi/MTA_Related/ti_orbital.html'> Creating Orbital Data RDB files</a>
for orbital rdb.
</li>
<li>
See <a href='https://cxc.cfa.harvard.edu/mta_days/mta_script_list/Takashi/MTA_Related/ti_geomagnet.html'>Ephem RDB Update</a> for ephem geomagnet rdb.
</li>
</ul>

<p>
See /data/mta/Script/Dumps/Scripts/README file for more details.
</p>

<p>
See /data/mta/Script/Dumps/Dumps_mon/README file for dumps_mon related operations.
</p>

<p>
<!--  here you put a short description of scripts or README file location.-->
</p>
<table border = 0>
<tr><th>Nov 10, 2015</th><td>Initially logged</td></tr>
<tr><th>Mar 28, 2016</th><td>envrionment setting scripts added for update_rdb.py (cron job problem)</td></tr>
</table>



<h3>Data Needed</h3>
<!--- a list of input data --->

<ul>
<li>
/dsops/GOT/input/*Dump_EM_*
</li>
<!-- how to get archive
<li>
data 2
</li>
-->
</ul>

<h3>Environment Setting</h3>
<!-- describe the environment setting -->
<ul>
<li>
$ENV{"ACISTOOLSDIR"}="/data/mta/Script/Dumps/Scripts"
</li>
</ul>

<h3>Output Locations and File Names</h3>
<!-- describe the output location and the file names -->
<p>
</p>
<ul>
<li>
/data/mta/Script/Dumps/
    <ul>
        <li>ELBILOW_&lt;timestamp&gt;.tl
        <li>MUPSMUPS1_&lt;timestamp&gt;.tl
        <li>MUPSMUPS2_&lt;timestamp&gt;.tl
        <li>PRIMARYACIS_&lt;timestamp&gt;.tl
        <li>PRIMARYCCDM_&lt;timestamp&gt;.tl
        <li>PRIMARYEPHIN_&lt;timestamp&gt;.tl
        <li>PRIMARYIRU_&lt;timestamp&gt;.tl
        <li>PRIMARYOTG_&lt;timestamp&gt;.tl
        <li>PRIMARYPCAD_&lt;timestamp&gt;.tl
        <li>PRIMARYSIM_&lt;timestamp&gt;.tl
    </ul>
</li>
<li>
/data/mta/DataSeeker/data/repository
    <ul>
        <li>ccdmfilter.rdb  </li>
        <li>elbi_low.rdb  </li>
        <li>mups_1.rdb  </li>
        <li>mups_2.rdb  </li>
        <li>pcadfilter.rdb</li>
    
        <li>deahk_temp.rdb</li>
        <li>deahk_elec.rdb</li>
    </ul>
</li>
</ul>


<h3>How to Run the Script(s)</h3>
<!-- describe how to run all scripts. start from environmental setting -->
<ol> 
<li>
go to: /data/mta/Script/Dumps
</li>
<li>
run:    ./filters_wrap_script       ---- create trace logs for ccdm etc
</li>
<li>
run:    ./filters_wrap_script2      ---- run otg related scripts
</li>
<li>
run:    ./Script/update_rdb.py      ---- create rdb files for ccdm etc
</li>
<li>
run:    ./Script/filters_dea        ---- create trace logs for dea and then rdb files
</li>
</ol>


<h3>How to Run Test(s)</h3>
<!-- describe how to run test. start from environmental setting -->
<ol> 
<li>
No test available for this set of script
</li>

</ol>

<div style='padding-left:20px'>
<h4>Expected result from the test</h4>
<!-- describe what we should see when we run the test -->
<p>
test results -- test results -- test results

</p>




</div>

<h3>Cron Job</h3>
<table border= 0>
<tr><th>CPU: </th><td>r2d2-v</td></tr>
<tr><th>User: </th><td>mta</td></tr>
</table>
<ul>
<li>04 2 * * * cd /data/mta/Script/Dumps; /data/mta/Script/Dumps/Scripts/update_rdb.py >> $HOME/Logs/update_rdb.cron</li>
</ul>

<table border= 0>
<tr><th>CPU: </th><td>c3po-v</td></tr>
<tr><th>User: </th><td>mta</td></tr>
</table>
<ul>
<li>30 * * * *  cd /data/mta/Script/Dumps/Scripts/; /data/mta/Script/Dumps/Scripts/filters_wrap_script    >> $HOME/Logs/filters_otg.cron</li>
<li>40 * * * *  cd /data/mta/Script/Dumps/Scripts/; /data/mta/Script/Dumps/Scripts/filters_wrap_script2   >> $HOME/Logs/filters_otg.cron </li>
<li>50 * * * *  cd /data/mta/Script/Dumps/Scripts/; /data/mta/Script/Dumps/Scripts/filters_dea >> $HOME/Logs/filters_dea.cron</li>
</ul>


<h3>Web Addreess</h3>
<p>
No web page.
</p>


<h3>Note</h3>

<p>
<!-- describe any other concern / instructions -->
None
</p>

<h3>Future Plan/Update Schedule</h3>
<ul>
<!-- please describe update plan etc yere -->

</ul>

<!-- the end of the document -->
None

<div  style='padding-top:10px'>
</div>
<hr />
<div  style='padding-top:10px'>
</div>

<a href='https://cxc.cfa.harvard.edu/mta_days/mta_script_list/mta_script_list.html'>
Back to Top Page
</a>













</body>
</html>
